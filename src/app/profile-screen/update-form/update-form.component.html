<form
  class="mt-3 form"
  [formGroup]="updateForm"
  (ngSubmit)="update()"
  *ngIf="user$ | async as user"
>
  <input
    class="form-control"
    formControlName="user_id"
    type="text"
    [ngModel]="user.user_id"
    readonly
    hidden
  />

  <div class="mb-3 d-flex justify-content-center">
    <app-message
      *ngIf="error == true"
      message="Usuário ou e-mail já cadastrados"
    ></app-message>
  </div>

  <div class="form-group mb-3 input-container m-auto">
    <div class="input-field">Usuário:</div>
    <div class="input-field">
      <input
        class="form-control"
        formControlName="user_name"
        type="text"
        [ngModel]="user.user_name"
      />
    </div>
    <app-message
      *ngIf="
    updateForm.get('user_name')?.errors?.['required'] &&
    updateForm.get('user_name')?.touched
  "
      message="Campo usuário obrigatório"
    ></app-message>
    <app-message
      *ngIf="
        updateForm.get('user_name')?.errors?.['minlength'] &&
        updateForm.get('user_name')?.touched
  "
      message="Campo usuário deve ter ao menos 5 caracteres"
    ></app-message>
  </div>

  <div class="form-group mb-3 input-container m-auto">
    <div class="input-field">Nome completo:</div>
    <div class="input-field">
      <input
        class="form-control"
        formControlName="user_full_name"
        type="text"
        [ngModel]="user.user_full_name"
      />
    </div>
    <app-message
      *ngIf="
        updateForm.get('user_full_name')?.errors &&
        updateForm.get('user_full_name')?.touched
      "
      message="Campo nome completo obrigatório"
    ></app-message>
  </div>

  <div class="form-group mb-4 input-container m-auto">
    <div class="input-field">E-mail:</div>
    <div class="input-field">
      <input
        class="form-control"
        formControlName="user_email"
        type="text"
        [ngModel]="user.user_email"
      />
    </div>
    <app-message
      *ngIf="
      updateForm.get('user_email')?.errors?.['required'] &&
      updateForm.get('user_email')?.touched
    "
      message="Campo e-mail obrigatório"
    ></app-message>
    <app-message
      *ngIf="
      updateForm.get('user_email')?.errors?.['email'] &&
      updateForm.get('user_email')?.touched
    "
      message="E-mail inválido"
    ></app-message>
  </div>

  <div class="d-flex justify-content-center">
    <button class="btn btn-secondary" [disabled]="updateForm.invalid">
      Atualizar dados
    </button>
  </div>
</form>
